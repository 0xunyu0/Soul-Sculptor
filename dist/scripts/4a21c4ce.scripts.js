"use strict";angular.module("controllers",[]),angular.module("directives",[]),angular.module("services",[]),angular.module("filters",[]);var APP_NAME="iissnan",mainModule=angular.module(APP_NAME,["ngRoute","controllers","directives","services","filters"]);angular.module("controllers").controller("ProfileCtrl",["$scope",function(){}]),angular.module("controllers").controller("MenuCtrl",["$scope","$location","$route",function(a,b,c){function d(){for(var a=0;a<e.length;a++)if(b.path()===e[a].path)return e[a];return{name:""}}var e=[{name:"profile",path:"/",icon:"person"},{name:"lab",path:"/lab",icon:"beaker"},{name:"read",path:"/read",icon:"bookmark"},{name:"device",path:"/device",icon:"monitor"}],f=c.routes;a.items=e,a.activeItem=d(),a.go=function(c,e){b.path(f[c]?c:"/404"),a.activeItem=d(),e.preventDefault()}}]),angular.module("controllers").controller("LabCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("controllers").controller("DeviceCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("controllers").controller("ReadCtrl",["$scope","douban$",function(a,b){b.get().then(function(b){a.readingBooks=b.data},function(){a.readingBooks=[]})}]),angular.module("directives"),angular.module("services").factory("douban$",["$q","$http",function(a,b){function c(){var c=a.defer();return b({method:"jsonp",url:d,params:e}).success(function(a){var b=[];if(a&&a.entry)for(var d=0;d<a.entry.length;d++){var e=a.entry[d]["db:subject"];b.push({title:e.title.$t,href:e.link[1]["@href"],image:e.link[2]["@href"].replace(/spic/,"lpic")})}c.resolve({status:0,data:b})}).error(function(a){c.reject({status:1,data:a})}),c.promise}var d="http://api.douban.com/people/iissnan/collection",e={callback:"JSON_CALLBACK",alt:"xd",cat:"book",status:"reading","max-result":10};return{get:c}}]),mainModule.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{controller:"ProfileCtrl",templateUrl:"/views/profile.html"}).when("/lab",{controller:"LabCtrl",templateUrl:"/views/lab.html"}).when("/read",{controller:"ReadCtrl",templateUrl:"/views/read.html"}).when("/device",{controller:"DeviceCtrl",templateUrl:"/views/device.html"}).otherwise({redirectTo:"/"}),b.hashPrefix("!")}]).run(function(){$(".loading").hide()}),$(document).ready(function(){angular.bootstrap(document,[APP_NAME])});